---
tags: 事例, SRE, SLI, SLO, Error Budget, プラットフォーム, LINE, 信頼性
publication_date: 2025-04-28
source_article_title: 信頼性向上のためのSLI/SLO導入vol.2 - プラットフォームへの導入事例
source_article_url: https://techblog.lycorp.co.jp/ja/20250428a
---
# 事例/LINEプラットフォームにおけるSLI_SLO導入事例

# 概要
LINEの大規模プラットフォーム（Messaging Platformなど、Kafka, HBase, Redis等を含む）において、[[SRE(Site Reliability Engineering)]] のプラクティスである [[SLI(Service Level Indicator)]] と [[SLO(Service Level Objective)]] を導入した具体的な取り組み事例。

# この事例が発生した具体的なコンテキスト
* **背景**: LINEのサービスを支える基盤となる大規模かつミッションクリティカルなプラットフォームを運用している。プラットフォームは多様なコンポーネントから構成され、多くの社内サービス（開発者）によって利用されている。
* **状況**: プラットフォームの信頼性を維持・向上させることが極めて重要。しかし、プラットフォームの「信頼性」に対する認識が、SREチームとプラットフォームを利用する開発チームとの間ですり合わない可能性があった。また、信頼性を客観的に評価し、改善活動につなげるための共通言語や指標が求められていた。
* **目的**:
    * プラットフォームのサービスレベルを定量的に可視化する。
    * 信頼性に関するSREチームと開発チーム間の共通認識を醸成する。
    * [[Error Budget]] の考え方を用いて、機能開発と信頼性維持のバランスを取るための客観的な基準を設ける。
    * データに基づいた信頼性に関する意思決定（インシデント対応、改善活動、新規リリース判断など）を可能にする。
* **制約**:
    * プラットフォームは多種多様なコンポーネントで構成されており、一律のSLI/SLO定義が難しい。
    * プラットフォームの利用者は主に社内開発者であり、エンドユーザー向けのサービスとは異なるSLI/SLOの考慮が必要。
    * 既存のモニタリング環境（Prometheus, Grafanaなど）を活用する必要がある。

# 関連するモデル/理論(L1)とメソッド(L2)
* **L1**: [[SRE(Site Reliability Engineering)]], [[SLI(Service Level Indicator)]], [[SLO(Service Level Objective)]], [[Error Budget]]
* **L2**: [[SLI_SLOの定義と導入プロセス]], [[Error Budget Policyの策定と運用]]

# 客観的な事実（何が起こったか）
* プラットフォームの主要コンポーネント（Kafka, HBase, Redisなど）に対して、SLI（主に可用性とレイテンシ）を定義した。
    * 利用する開発者視点での指標（APIの成功率や応答時間など）を重視した。
* 既存のモニタリングシステム (Prometheus) から取得できるメトリクスを活用してSLIを計測した。
* Grafanaを用いてSLIの計測値とSLOの達成状況を可視化するダッシュボードを作成し、関係者間で共有した。
* SLOとError Budgetを定義し、Error Budget Policyの基本的な考え方（SLO未達時の対応など）を導入した（記事ではポリシーの詳細には深く触れていないが、運用していることが示唆される）。
* SREチームと開発チーム間で、定義したSLI/SLOやダッシュボードについて説明し、認識合わせを行った。

# 得られた結果（成功、失敗、予期せぬ事態など）とその要因
* **成功**:
    * **信頼性の可視化**: プラットフォームの信頼性レベルが定量的に把握できるようになった。これにより、漠然とした「調子が悪い」ではなく、具体的な数値に基づいて状態を判断できるようになった。
    * **共通言語の確立**: SLI/SLOという共通言語ができたことで、SREチームと開発チーム間での信頼性に関するコミュニケーションが円滑になった。認識の齟齬が減り、建設的な議論が可能になった。
    * **客観的な意思決定支援**: インシデント発生時の影響度判断や、機能リリース可否の判断において、SLOやError Budgetの状況が客観的な材料の一つとなった。
    * **継続的な改善の基盤**: 定量的な目標（SLO）があることで、信頼性向上のための改善活動を計画・評価しやすくなった。
* **課題/困難 (要因)**:
    * **プラットフォームSLI定義の難しさ**: 多様なコンポーネントと内部利用者という特性上、全ての利用者にとって意味のある、かつ測定可能なSLIを定義するのが容易ではなかった。試行錯誤が必要だった。
    * **文化としての浸透**: SLI/SLOやError Budgetの考え方を、一部のチームだけでなく、組織全体の文化として根付かせるには、継続的な啓蒙とコミュニケーションが必要である。

# 定量的なデータ・定性的なデータ
記事内では具体的なSLOの目標値やError Budgetの消費状況に関する定量データは公開されていないが、ダッシュボードのスクリーンショット（例）が示されており、可用性やレイテンシがパーセンテージや時間で示されていることがわかる。定性的には、コミュニケーションの改善や意思決定の質の向上といった効果が述べられている。
