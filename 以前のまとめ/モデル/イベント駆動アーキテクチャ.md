---
tags: モデル, ソフトウェアアーキテクチャ, アーキテクチャスタイル, 分散システム, 非同期, ストリーム処理
aliases: Event-Driven Architecture, EDA
---
# モデル: イベント駆動アーキテクチャ (Event-Driven Architecture)

## 概要
イベント駆動アーキテクチャ（EDA）は、システムの[[コンポーネント]]（サービス、モジュール）間の相互作用を、非同期的な「イベント」の生成（Publish）、検出（Detect）、消費（Consume）、および反応（React）に基づいて行う[[ソフトウェアアーキテクチャ]]の[[アーキテクチャスタイル]]です。イベントとは、システム内で発生した重要な状態変化や出来事を表すデータのことを指します。

## どのような側面に着目し、どのような状態を捉えようとしているか
このモデルは、システムの動作や状態変化を「イベント」（何かが起こったという事実）として捉え、**[[コンポーネント]]間の時間的な分離（Temporal Decoupling）** と**空間的な分離（Spatial Decoupling）** に着目します。[[リクエスト・レスポンスモデル]]のような同期的通信とは異なり、イベントを発行するコンポーネント（Producer）と、そのイベントに関心を持つコンポーネント（Consumer）が、互いを直接知らなくても（空間的分離）、また、同時に動作していなくても（時間的分離）、非同期に連携できる状態を捉えようとします。これにより、コンポーネント間の[[結合度]]を下げ、非同期的な処理フローを構築しようとします。イベントブローカー（メッセージキュー、イベントストリーミングプラットフォームなど）を介して連携するパターン（Mediatorトポロジー）や、コンポーネント同士がイベントを直接やり取りするパターン（Brokerトポロジー）など、様々な実装形態があることを示します。

## このモデル/理論が有効となるコンテキスト
* [[コンポーネント]]間の[[結合度]]を極力低く保ち、[[変更容易性]]を高めたい場合。
* [[スケーラビリティ]]や[[モデル/弾力性]]が重要なシステム（非同期処理による負荷平準化、コンポーネントの独立したスケール、イベントのリトライなど）。
* リアルタイム性が求められるシステム (例: 不正検知、モニタリング、[[ストリーム処理(データ)]])。
* リアルタイムに近い応答性が必要だが、処理自体は非同期で行っても問題ない場合（例：注文後の通知処理）。
* 複数のシステムやサービスが、ある状態変化（イベント）に応じて連携する必要がある場合。
* [[マイクロサービスアーキテクチャ]]におけるサービス間連携の一つの手段として。
* 様々なソースからのデータを統合し、継続的に処理する必要がある場合。

## このモデルの示す事
* コンポーネント間の連携は、**イベント**（状態変化の通知）を介して**非同期**に行われること。
* ProducerはConsumerを**直接知る必要がない**（疎結合）。Consumerは関心のあるイベントを**購読（Subscribe）** する。
* これにより、高い**[[変更容易性]]**（Producer/Consumerの追加・変更・削除が容易）、**[[スケーラビリティ]]**（Consumerの数を増減させて負荷に対応）、**[[モデル/弾力性]]**（一部Consumerの障害が他に影響しにくい、イベントのリトライ）を実現できる可能性があること。
* **時間的な分離**により、ProducerとConsumerが異なるタイミングで動作できること。
* [[リクエスト・レスポンスモデル]]との対比で、非同期・疎結合なシステム設計の選択肢を提供すること。
* 一方で、システム全体の**動作フローの把握**や**デバッグ**が困難になる可能性があること（リクエストの追跡が難しい）。
* **最終的な一貫性（Eventual Consistency）** の考慮が必要になる場合があること。
* イベントブローカーの**管理・運用**が必要になる場合があること（Mediatorトポロジーの場合）。
* イベントの**スキーマ管理**や**バージョニング**が重要になること。
* **エラーハンドリング**（リトライ、デッドレターキュー）の設計が複雑になる可能性があること。