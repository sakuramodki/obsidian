---
tags: モデル, アーキテクチャスタイル, ストリーム処理, 分散システム, ApacheFlink
aliases: Flink Distributed Architecture
---

# モデル: 分散ストリーム処理アーキテクチャ (Flink)

## 概要
Apache Flinkは、[[モデル/ストリーム処理(データ)]]を大規模かつ効率的に実行するための分散システムアーキテクチャを採用しています。このモデルは、Flinkクラスターの主要なコンポーネントとその役割を説明します。

## どのような側面に着目し、どのような状態を捉えようとしているか
このモデルは、ストリーム処理ジョブを複数のマシン（ノード）に分散して実行するための「役割分担」と「協調」の仕組みに着目します。スケーラビリティ、パフォーマンス、そして耐障害性をどのように実現しているかの構造を捉えようとしています。マスター/ワーカー型の構成を基本としています。

## このモデル/理論が有効となるコンテキスト
* [[メソッド/Apache_Flink]]を利用してストリーム処理アプリケーションをデプロイ・運用する際。
* Flinkジョブのパフォーマンスチューニングやトラブルシューティングを行う際。
* Flinkの高可用性（HA）構成やリソース管理を理解する際。
* 他の分散処理フレームワーク（例: Apache Spark）とのアーキテクチャの違いを比較する際。

## このモデルの示す事
* **主要コンポーネント:**
    * **JobManager (マスター):**
        * 役割: ジョブの受付、実行計画の作成、タスクのスケジューリング、TaskManagerへのタスク割り当て、チェックポイント調整、リカバリ調整。クラスター全体の調整役。
        * 状態: 高可用性（HA）構成が可能で、リーダー選出により単一障害点を回避する。
    * **TaskManager (ワーカー):**
        * 役割: JobManagerから割り当てられたタスク（データ処理の実行単位）を実際に実行する。データの送受信、状態の保持、チェックポイントの実行を行う。
        * 状態: 複数のタスクスロットを持ち、並列でタスクを実行できる。メモリやCPUなどのリソースを管理する。
    * **(Client):** (直接的なランタイムコンポーネントではないが) ジョブをコンパイルし、JobManagerに投入する役割。
* **処理フロー:**
    1.  クライアントがジョブをJobManagerに投入。
    2.  JobManagerが実行計画を作成し、必要なTaskManagerにタスクを割り当てる。
    3.  TaskManagerがタスクを実行し、必要に応じてTaskManager間でデータをストリーミング転送する。
    4.  JobManagerが[[メソッド/Flink_チェックポイント]]を調整し、耐障害性を確保する。
* **アーキテクチャ上の選択肢:** リソース管理（Standalone, YARN, Kubernetes）、HA構成など、運用環境に応じた選択肢があることを示唆する。