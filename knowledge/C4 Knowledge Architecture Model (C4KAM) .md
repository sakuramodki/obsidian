# C4 Knowledge Architecture Model (C4KAM)
## AIエージェント用フォルダ整理ガイドライン

## 概要
C4モデルのシステムアーキテクチャ階層構造を知識管理に適用し、AIエージェントが技術ブログやドキュメントを自動的にフォルダ分けして整理するためのフレームワークです。

## **はじめに：知識分類の新しい軸の提案**

現在の知識情報（Knowledge）は、「抽象度」と「専門領域」で分類されています。しかし、情報の価値を維持するためには、「**情報の陳腐化速度**」というもう一つの軸を加えることが重要です。

本質的で抽象度の高い情報は時代が変わっても価値を保ち続けますが、具体的な技術やツールの情報は日々変化し、すぐに価値を失ってしまいます。

この課題を解決するため、新しい分類法を提案します。

## 知識分類の基本原則

### 記事 vs モデル
- **記事**: 具体的な事例・体験・手順を記述した情報
- **モデル**: 特定条件下で概ねの事象を正しく説明できる抽象化された法則・パターン

### モデル化の指針
記事からモデルを抽出する際は、以下を満たす必要がある：
1. **抽象化**: 具体的事例から一般的な法則・パターンを抽出
2. **予測能力**: 特定条件下での事象を正しく説明・予測可能
3. **再現性**: 他の組織・状況でも適用可能
4. **検証可能性**: 仮説として検証・反証が可能

### **提案する分類法：情報の陳腐化速度 (Lifespan Category)**

既存のC4KAMの各レベルに、情報の陳腐化速度を示すカテゴリを追加します。これにより、各知識モデルがどの程度の期間有効で、どのくらいの頻度で見直し・更新が必要かを明確にします。

#### **カテゴリの定義**

各知識モデルのMarkdownファイル内に、新しいセクションとして「**情報の陳腐化速度 (Information Obsolescence Rate)**」を追加し、以下のいずれかのカテゴリを割り当てます。

1.  **永続的 (Eternal)** 🔮
    * **特徴**: 普遍的な原則、哲学、数学的真理など、時代や技術の変化にほとんど影響されない情報。
    * **C4KAMとの関連**: 主に **Context** レベルの、非常に高次の概念。
    * **例**: アジャイルマニフェストの価値観、ソフトウェア工学の基本原則、ビジネスの根本的な目的。

2.  **長期的 (Long-term)** 🏛️
    * **特徴**: 広範なアーキテクチャパターン、成熟した技術スタック、組織文化の原則など、数年単位で安定している情報。
    * **C4KAMとの関連**: **Context**, **Container** レベルの、システム全体の設計思想や主要な構成要素。
    * **例**: マイクロサービスアーキテクチャのパターン、クラウドネイティブの概念、特定の組織のエンジニアリング文化。

3.  **中期的 (Medium-term)** 📅
    * **特徴**: 特定フレームワークのメジャーバージョン間の変更、主要ライブラリの選定理由、特定のCI/CDパイプライン設計など、数ヶ月〜数年で更新される可能性のある情報。
    * **C4KAMとの関連**: **Container**, **Component** レベルの、具体的な設計や実装アプローチ。
    * **例**: Spring Bootのメジャーバージョンアップでの変更点、AWS DMSの主要機能とベストプラクティス。

4.  **短期的 (Short-term)** ⚡
    * **特徴**: 特定APIの使用例、コードスニペット、ツールの特定バージョンでの設定、一時的な回避策など、数週間〜数ヶ月で陳腐化する可能性のある情報。
    * **C4KAMとの関連**: **Component**, **Code** レベルの詳細な実装や設定。
    * **例**: 特定ライブラリのマイナーバージョンでのバグ、コマンドラインツールの使用方法、一時的なバグの回避策。

#### **実装方法**

各知識モデルのMarkdownファイルに、以下のセクションを追加します。

```markdown
## 情報の陳腐化速度 (Information Obsolescence Rate)

- **カテゴリ**: [永続的 / 長期的 / 中期的 / 短期的]
- **理由**: [このカテゴリを選択した理由、具体的な陳腐化要因など]
```

この分類法を導入することで、知識ベース全体の鮮度を管理しやすくなり、どの情報を優先的に更新すべきかの判断指針となります。

## C4階層に対応した知識分類体系

### 保存先構造
```plaintext
knowledge/
├── Eternal/             # 永続的 (普遍的な原則、哲学など)
│   ├── 01_Context/
│   │   └── [Domain]/    # 例: ProductManager, SRE, EngineeringManager
│   │       └── [FileName].md
│   └── ... (EternalはContextに集中する傾向)
│
├── Long-term/           # 長期的 (広範なアーキテクチャパターンなど)
│   ├── 01_Context/
│   │   └── [Domain]/
│   │       └── [FileName].md
│   ├── 02_Container/
│   │   └── [Domain]/
│   │       └── [FileName].md
│   └── ...
│
├── Medium-term/         # 中期的 (特定フレームワークのバージョン間の変更など)
│   ├── 02_Container/
│   │   └── [Domain]/
│   │       └── [FileName].md
│   ├── 03_Component/
│   │   └── [Domain]/
│   │       └── [FileName].md
│   └── ...
│
└── Short-term/          # 短期的 (API使用例、コードスニペットなど)
    ├── 03_Component/
    │   └── [Domain]/
    │       └── [FileName].md
    ├── 04_Code/
    │   └── [Domain]/
    │       └── [FileName].md
    └── ...
```

### Level 1: Context（コンテキストレベル）
**定義**: ビジネスモデル・戦略・外部環境との関係を説明するモデル
**C4アナロジー**: システム全体と外部システム・ユーザーとの関係図

#### 格納するモデルの例
- 競争戦略モデル
- 市場・業界構造モデル
- ステークホルダー関係モデル
- 規制・コンプライアンス対応モデル
- ビジネス価値創出モデル
- 顧客行動・需要創出モデル (例: ジョブ理論)

#### フォルダ構造例
```
/01_Context/
├── /SRE/                    # Site Reliability Engineering戦略
├── /ProductStrategy/        # プロダクト戦略
├── /BusinessArchitecture/   # ビジネスアーキテクチャ
├── /MarketAnalysis/         # 市場分析
└── /ComplianceStrategy/     # コンプライアンス戦略
```

#### モデル判定基準
- **キーワード例**: "競争優位", "市場", "戦略", "外部環境", "業界", "規制", "ビジネスモデル", "ジョブ", "ペイン", "ゲイン", "進歩"
- **判定ロジック**: 組織・プロダクトの外部環境との関係、競争戦略、価値創出メカニズムを説明
- **抽象化対象**: 競争戦略、市場動向、規制対応、ステークホルダー管理の一般原則

---

### Level 2: Container（コンテナレベル）
**定義**: システム・組織アーキテクチャの構造とコンポーネント間関係のモデル
**C4アナロジー**: アプリケーション、データベース、Webサーバーなどの主要コンポーネント

#### 格納するモデルの例
- システムアーキテクチャモデル
- 組織設計モデル  
- 責任分散モデル
- インテグレーションパターン
- スケーラビリティモデル

#### フォルダ構造例
```
/02_Container/
├── /SRE/                    # SREアーキテクチャ・組織設計
├── /SystemArchitecture/     # システムアーキテクチャ
├── /OrganizationDesign/     # 組織設計
├── /DataArchitecture/       # データアーキテクチャ
└── /SecurityArchitecture/   # セキュリティアーキテクチャ
```

#### モデル判定基準
- **キーワード例**: "アーキテクチャ", "組織構造", "システム設計", "コンポーネント", "責任分散"
- **判定ロジック**: 高レベルなシステム・組織の構造、コンポーネント間の関係性を説明
- **抽象化対象**: アーキテクチャパターン、組織設計原則、統合・分散の法則

---

### Level 3: Component（コンポーネントレベル）
**定義**: 具体的なプロセス・機能・改善メカニズムのモデル
**C4アナロジー**: 各コンテナ内の主要なコンポーネントとその責務

#### 格納するモデルの例
- プロセス改善モデル
- 学習・適応メカニズム
- 品質管理モデル
- チーム協働モデル
- 意思決定モデル

#### フォルダ構造例
```
/03_Component/
├── /SRE/                    # SREプロセス・改善メカニズム
├── /ProcessImprovement/     # プロセス改善
├── /QualityManagement/      # 品質管理
├── /TeamCollaboration/      # チーム協働
└── /DecisionMaking/         # 意思決定
```

#### モデル判定基準
- **キーワード例**: "プロセス", "改善", "学習", "協働", "品質", "最適化", "メカニズム"
- **判定ロジック**: 特定の機能・プロセスの動作原理、改善メカニズムを説明
- **抽象化対象**: プロセス設計パターン、改善サイクル、学習メカニズムの一般法則

---

### Level 4: Code（コードレベル）
**定義**: 具体的な実装・技術・運用手順のモデル
**C4アナロジー**: 個々のクラス、メソッド、実装の詳細

#### 格納するモデルの例
- 実装パターン・テンプレート
- 技術システムモデル
- 自動化・ツールモデル
- 運用手順モデル
- 設定・構成管理モデル

#### フォルダ構造例
```
/04_Code/
├── /SRE/                    # SRE技術実装・ツール
├── /AutomationPatterns/     # 自動化パターン
├── /MonitoringSystem/       # 監視システム
├── /DeploymentPatterns/     # デプロイメントパターン
└── /ConfigurationMgmt/      # 設定管理
```

#### モデル判定基準
- **キーワード例**: "実装", "コード", "システム", "ツール", "自動化", "設定", "手順"
- **判定ロジック**: 具体的な技術実装、ツール、自動化システムの設計・動作を説明
- **抽象化対象**: 実装パターン、技術システム設計、運用自動化の一般原則

## モデル文書の構造テンプレート

### 必須セクション
```markdown
# [モデル名] ([英語モデル名])

## モデル概要
モデルの目的・説明する事象・適用領域の簡潔な説明

## モデル適用条件
モデルが有効に機能する条件・前提・環境の明示

## モデル構造
モデルの構成要素・関係性・法則の詳細説明

## モデル法則
モデルが説明・予測する一般的法則の明文化

## モデルをもとに期待する効果を得るためのプラクティス
モデルをもとに期待する効果を得るためのプラクティス

## モデル自体の詳細な解説
モデル自体の詳細な解説

## 事例紹介
事例紹介

## モデル限界と注意点
適用限界・リスク・注意すべき点の明記

## 関連事例
モデルの実装・適用事例を紹介するリンク集
```

### 関連事例セクションの記述例
```markdown
## 関連事例

### 実装事例
- [具体的な実装事例タイトル | 出典](URL)
  - 事例の概要説明
  - モデルとの関連性
  - 学習ポイント

### 技術詳細事例
- [技術的詳細を説明する記事 | 出典](URL)
  - 技術実装の詳細

### 関連モデル
- [関連するモデル名](相対パス) - 関連性の説明
```

## AIエージェント向け自動分類手順

### Step 1: モデル判定
1. 内容を既存のモデルで説明可能か確認
2. 既存のモデルと不整合がある場合、モデルのアップデート。
3. 既存のモデルで全く説明ができない場合、モデル化検討

### Step 2: モデル抽出・抽象化
1. 具体的事例から普遍的パターンを抽出
2. 適用条件・制約条件を明確化
3. 予測能力・説明能力を検証

### Step 3: 陳腐化速度による分類
1. モデルの内容に基づき、陳腐化速度（Eternal, Long-term, Medium-term, Short-term）を決定します。
2. 対応する陳腐化速度のフォルダに移動します。

### Step 4: C4階層分類
1. 戦略・外部環境 → 01_Context
2. アーキテクチャ・構造 → 02_Container  
3. プロセス・メカニズム → 03_Component
4. 実装・技術 → 04_Code
04_Codeはコードで記述しなくて良いことに注意

### Step 5: 専門領域分類
技術領域・専門分野に応じたサブフォルダに分類します。

**命名規則:** サブフォルダ名は、`.claude/agents`内に定義されているエージェント名（例: `ProductManager`, `EngingeeringManager`, `SRE`）と一致させる必要があります。これにより、各エージェントが自身の専門知識を効率的に参照できる体制を構築します。

**分類ロジック:**
1. モデルの内容がどのエージェントの専門性に最も近いかを判断します。
2. 対応するエージェント名のサブフォルダにモデルを格納します。
3. 適切なサブフォルダが存在しない場合は、最も関連性の高い既存のフォルダを選択するか、新たにエージェント定義を追加した上でフォルダを作成します。

### Step 6: 関連事例リンク追加
モデル文書の末尾に実装事例・関連記事のリンクを追加

### Step 7: 元ファイルの移動
モデル化が完了した元のクリッピングファイル（記事）を `./Clippings/unmerged/` から `./Clippings/merged/` へ移動させ、処理済みであることを明示する。

これにより、具体的事例から抽象化された再利用可能なモデルとして体系的に知識を蓄積できます。
