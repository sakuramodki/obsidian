# C4 Knowledge Architecture Model (C4KAM)
## AIエージェント用フォルダ整理ガイドライン

## 概要
C4モデルのシステムアーキテクチャ階層構造を知識管理に適用し、AIエージェントが技術ブログやドキュメントを自動的にフォルダ分けして整理するためのフレームワークです。まず情報が短命なもの（Ephemeral）かを判断し、そうでないものを抽象度に基づいて階層的に分類します。

## 知識分類の基本原則

### 記事 vs モデル
- **記事**: 具体的な事例・体験・手順を記述した情報
- **モデル**: 特定条件下で概ねの事象を正しく説明できる抽象化された法則・パターン

### モデル化の指針
記事からモデルを抽出する際は、以下を満たす必要がある：
1. **抽象化**: 具体的事例から一般的な法則・パターンを抽出
2. **予測能力**: 特定条件下での事象を正しく説明・予測可能
3. **再現性**: 他の組織・状況でも適用可能
4. **検証可能性**: 仮説として検証・反証が可能

## 知識分類体系

### 保存先構造
```plaintext
knowledge/
├── Ephemeral/                   # 短命で時間的制約の強い情報
│   └── [FileName].md
├── 01_Principles_and_Strategy/  # 普遍的な原則と戦略
│   └── [Domain]/                # 例: ProductManager, SRE, EngineeringManager
│       └── [FileName].md
├── 02_Architecture/             # システムや組織のアーキテクチャ
│   └── [Domain]/
│       └── [FileName].md
├── 03_Patterns_and_Processes/   # 再利用可能なパターンとプロセス
│   └── [Domain]/
│       └── [FileName].md
└── 04_Implementation_and_Practices/ # 具体的な実装とプラクティス
    └── [Domain]/
        └── [FileName].md
```

### Category: Ephemeral（短命な情報）
**定義**: 有効期限が明確で、時間の経過とともに価値が急速に失われる、または文脈依存性が極めて高い情報。バージョン番号、日付、特定のイベントなど、時間的な要素に強く関連付けられています。

**格納する情報の例**:
- **ライブラリの特定のバージョンに限定された情報**: `react-v18.2.0のバグと回避策.md`
- **リリースノート**: `MyProduct-v2.5.0-Release-Notes.md`
- **特定の日付に開催されるイベントの情報**: `2025-10-20-Tech-Conference-Memo.md`
- **特定の時期における技術トレンドの分析**: `2025年Q3のWebフロントエンド技術動向.md`
- **期間限定のプロジェクト計画やロードマップ**
- **一時的なインシデントの事後分析レポート**

**分類のポイント**: ファイルの内容に「バージョンX.Y.Z」「2025年8月」「Q4」のような具体的な時間的マーカーが含まれている場合、このカテゴリに分類される可能性が高いです。

---

### Level 1: Principles and Strategy（原則と戦略）
**定義**: ビジネスモデル、戦略、普遍的な原則など、システムの「なぜ」を説明する最も抽象的なモデル。

#### 格納するモデルの例
- 競争戦略モデル
- 市場・業界構造モデル
- ビジネス価値創出モデル
- 組織の行動規範や哲学

---

### Level 2: Architecture（アーキテクチャ）
**定義**: システムや組織の全体構造、主要な構成要素とその関係性を定義するモデル。

#### 格納するモデルの例
- システムアーキテクチャモデル
- 組織設計モデル
- データアーキテクチャモデル

---

### Level 3: Patterns and Processes（パターンとプロセス）
**定義**: 特定の課題を解決するための繰り返し可能なパターンや、具体的な業務プロセス、改善メカニズムを記述するモデル。

#### 格納するモデルの例
- プロセス改善モデル (例: スクラム、カンバン)
- デザインパターン
- 品質管理モデル
- チーム協働モデル

---

### Level 4: Implementation and Practices（実装とプラクティス）
**定義**: 具体的な実装方法、技術選定、ツール、運用手順など、最も具体的なレベルのモデル。

#### 格納するモデルの例
- 実装パターン・テンプレート
- 特定技術のベストプラクティス
- 自動化・ツール導入手順
- 運用手順モデル (SOP)

## モデル文書の構造テンプレート

### 必須セクション
```markdown
# [モデル名] ([英語モデル名])

## モデル概要
モデルの目的・説明する事象・適用領域の簡潔な説明

## モデル適用条件
モデルが有効に機能する条件・前提・環境の明示

## モデル構造
モデルの構成要素・関係性・法則の詳細説明

## モデル法則
モデルが説明・予測する一般的法則の明文化

## モデルをもとに期待する効果を得るためのプラクティス
モデルをもとに期待する効果を得るためのプラクティス

## モデル自体の詳細な解説
モデル自体の詳細な解説

## 事例紹介
事例紹介

## モデル限界と注意点
適用限界・リスク・注意すべき点の明記

## 関連事例
モデルの実装・適用事例を紹介するリンク集
```

## AIエージェント向け自動分類手順

### Step 1: Ephemeral判定 (トリアージ)
1.  まず、情報に明確な時間的制約（バージョン、日付、期間など）があるかを確認します。
2.  該当する場合、そのファイルを `knowledge/Ephemeral/` に格納し、以降の分類は行いません。

### Step 2: モデル判定
1. Ephemeralでない場合、内容を既存のモデルで説明可能か確認
2. 既存のモデルと不整合がある場合、モデルのアップデート。
3. 既存のモデルで全く説明ができない場合、モデル化検討

### Step 3: モデル抽出・抽象化
1. 具体的事例から普遍的パターンを抽出
2. 適用条件・制約条件を明確化
3. 予測能力・説明能力を検証

### Step 4: 抽象度による階層分類
1. **原則・戦略** → `01_Principles_and_Strategy`
2. **アーキテクチャ・構造** → `02_Architecture`
3. **パターン・プロセス** → `03_Patterns_and_Processes`
4. **実装・プラクティス** → `04_Implementation_and_Practices`

### Step 5: 専門領域分類
技術領域・専門分野に応じたサブフォルダに分類します。

**命名規則:** サブフォルダ名は、`.claude/agents`内に定義されているエージェント名（例: `ProductManager`, `EngingeeringManager`, `SRE`）と一致させる必要があります。

**体系化された技術領域の分類:**
特定の技術領域（例: スクラム、DevOps、マイクロサービスなど）が世間的に体系化されており、関連する複数のモデルが存在する場合は、その専門領域のサブフォルダ内にさらに専用のサブディレクトリを作成します。

例: `knowledge/03_Patterns_and_Processes/EngingeeringManager/スクラム/`

この際、親となる専門領域のディレクトリ（例: `EngingeeringManager`）直下には、その体系化された技術領域全体の概要や、関連するモデルへのリンクをまとめた目次的なモデル（ハブモデル）を作成します。この目次モデルも、他のモデルと同様に「モデル文書の構造テンプレート」に従って記述します。

例: `knowledge/03_Patterns_and_Processes/EngingeeringManager/スクラム開発モデル.md`

### Step 6: 関連事例リンク追加
モデル文書の末尾に実装事例・関連記事のリンクを追加

### Step 7: 元ファイルの移動
モデル化が完了した元のクリッピングファイル（記事）を `./Clippings/unmerged/` から `./Clippings/merged/` へ移動させ、処理済みであることを明示する。

これにより、具体的事例から抽象化された再利用可能なモデルとして体系的に知識を蓄積できます。
