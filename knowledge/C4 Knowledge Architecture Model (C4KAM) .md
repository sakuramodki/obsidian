# C4 Knowledge Architecture Model (C4KAM)
## AIエージェント用フォルダ整理ガイドライン

## 概要
C4モデルのシステムアーキテクチャ階層構造を知識管理に適用し、AIエージェントが技術ブログやドキュメントを自動的にフォルダ分けして整理するためのフレームワークです。

## 知識分類の基本原則

### 記事 vs モデル
- **記事**: 具体的な事例・体験・手順を記述した情報
- **モデル**: 特定条件下で概ねの事象を正しく説明できる抽象化された法則・パターン

### モデル化の指針
記事からモデルを抽出する際は、以下を満たす必要がある：
1. **抽象化**: 具体的事例から一般的な法則・パターンを抽出
2. **予測能力**: 特定条件下での事象を正しく説明・予測可能
3. **再現性**: 他の組織・状況でも適用可能
4. **検証可能性**: 仮説として検証・反証が可能

## C4階層に対応した知識分類体系

### 保存先構造
```
./knowledge/          # 構造化されたモデル・知識の蓄積
├── 01_Context/      # 戦略・環境・外部関係のモデル
├── 02_Container/    # アーキテクチャ・システム・組織のモデル
├── 03_Component/    # プロセス・機能・メカニズムのモデル
└── 04_Code/         # 実装・技術・手順のモデル

./Clippings/         # 一時的なクリッピングや未分類の情報
```

### Level 1: Context（コンテキストレベル）
**定義**: ビジネスモデル・戦略・外部環境との関係を説明するモデル
**C4アナロジー**: システム全体と外部システム・ユーザーとの関係図

#### 格納するモデルの例
- 競争戦略モデル
- 市場・業界構造モデル
- ステークホルダー関係モデル
- 規制・コンプライアンス対応モデル
- ビジネス価値創出モデル
- 顧客行動・需要創出モデル (例: ジョブ理論)

#### フォルダ構造例
```
/01_Context/
├── /SRE/                    # Site Reliability Engineering戦略
├── /ProductStrategy/        # プロダクト戦略
├── /BusinessArchitecture/   # ビジネスアーキテクチャ
├── /MarketAnalysis/         # 市場分析
└── /ComplianceStrategy/     # コンプライアンス戦略
```

#### モデル判定基準
- **キーワード例**: "競争優位", "市場", "戦略", "外部環境", "業界", "規制", "ビジネスモデル", "ジョブ", "ペイン", "ゲイン", "進歩"
- **判定ロジック**: 組織・プロダクトの外部環境との関係、競争戦略、価値創出メカニズムを説明
- **抽象化対象**: 競争戦略、市場動向、規制対応、ステークホルダー管理の一般原則

---

### Level 2: Container（コンテナレベル）
**定義**: システム・組織アーキテクチャの構造とコンポーネント間関係のモデル
**C4アナロジー**: アプリケーション、データベース、Webサーバーなどの主要コンポーネント

#### 格納するモデルの例
- システムアーキテクチャモデル
- 組織設計モデル  
- 責任分散モデル
- インテグレーションパターン
- スケーラビリティモデル

#### フォルダ構造例
```
/02_Container/
├── /SRE/                    # SREアーキテクチャ・組織設計
├── /SystemArchitecture/     # システムアーキテクチャ
├── /OrganizationDesign/     # 組織設計
├── /DataArchitecture/       # データアーキテクチャ
└── /SecurityArchitecture/   # セキュリティアーキテクチャ
```

#### モデル判定基準
- **キーワード例**: "アーキテクチャ", "組織構造", "システム設計", "コンポーネント", "責任分散"
- **判定ロジック**: 高レベルなシステム・組織の構造、コンポーネント間の関係性を説明
- **抽象化対象**: アーキテクチャパターン、組織設計原則、統合・分散の法則

---

### Level 3: Component（コンポーネントレベル）
**定義**: 具体的なプロセス・機能・改善メカニズムのモデル
**C4アナロジー**: 各コンテナ内の主要なコンポーネントとその責務

#### 格納するモデルの例
- プロセス改善モデル
- 学習・適応メカニズム
- 品質管理モデル
- チーム協働モデル
- 意思決定モデル

#### フォルダ構造例
```
/03_Component/
├── /SRE/                    # SREプロセス・改善メカニズム
├── /ProcessImprovement/     # プロセス改善
├── /QualityManagement/      # 品質管理
├── /TeamCollaboration/      # チーム協働
└── /DecisionMaking/         # 意思決定
```

#### モデル判定基準
- **キーワード例**: "プロセス", "改善", "学習", "協働", "品質", "最適化", "メカニズム"
- **判定ロジック**: 特定の機能・プロセスの動作原理、改善メカニズムを説明
- **抽象化対象**: プロセス設計パターン、改善サイクル、学習メカニズムの一般法則

---

### Level 4: Code（コードレベル）
**定義**: 具体的な実装・技術・運用手順のモデル
**C4アナロジー**: 個々のクラス、メソッド、実装の詳細

#### 格納するモデルの例
- 実装パターン・テンプレート
- 技術システムモデル
- 自動化・ツールモデル
- 運用手順モデル
- 設定・構成管理モデル

#### フォルダ構造例
```
/04_Code/
├── /SRE/                    # SRE技術実装・ツール
├── /AutomationPatterns/     # 自動化パターン
├── /MonitoringSystem/       # 監視システム
├── /DeploymentPatterns/     # デプロイメントパターン
└── /ConfigurationMgmt/      # 設定管理
```

#### モデル判定基準
- **キーワード例**: "実装", "コード", "システム", "ツール", "自動化", "設定", "手順"
- **判定ロジック**: 具体的な技術実装、ツール、自動化システムの設計・動作を説明
- **抽象化対象**: 実装パターン、技術システム設計、運用自動化の一般原則

## モデル文書の構造テンプレート

### 必須セクション
```markdown
# [モデル名] ([英語モデル名])

## モデル概要
モデルの目的・説明する事象・適用領域の簡潔な説明

## モデル適用条件
モデルが有効に機能する条件・前提・環境の明示

## モデル構造
モデルの構成要素・関係性・法則の詳細説明

## モデル法則
モデルが説明・予測する一般的法則の明文化

## 実装ガイドライン
モデルを実際に適用する際の具体的手順・考慮事項

## モデル限界と注意点
適用限界・リスク・注意すべき点の明記

## 関連事例
モデルの実装・適用事例を紹介するリンク集
```

### 関連事例セクションの記述例
```markdown
## 関連事例

### 実装事例
- [具体的な実装事例タイトル | 出典](URL)
  - 事例の概要説明
  - モデルとの関連性
  - 学習ポイント

### 技術詳細事例
- [技術的詳細を説明する記事 | 出典](URL)
  - 技術実装の詳細

### 関連モデル
- [関連するモデル名](相対パス) - 関連性の説明
```

## AIエージェント向け自動分類手順

### Step 1: モデル判定
1. 内容を既存のモデルで説明可能か確認
2. 既存のモデルと不整合がある場合、モデルのアップデート。
3. 既存のモデルで全く説明ができない場合、モデル化検討

### Step 2: モデル抽出・抽象化
1. 具体的事例から普遍的パターンを抽出
2. 適用条件・制約条件を明確化
3. 予測能力・説明能力を検証

### Step 3: C4階層分類
1. 戦略・外部環境 → 01_Context
2. アーキテクチャ・構造 → 02_Container  
3. プロセス・メカニズム → 03_Component
4. 実装・技術 → 04_Code
04_Codeはコードで記述しなくて良いことに注意

### Step 4: 専門領域分類
技術領域・専門分野に応じたサブフォルダに分類します。

**命名規則:** サブフォルダ名は、`.claude/agents`内に定義されているエージェント名（例: `ProductManager`, `EngingeeringManager`, `SRE`）と一致させる必要があります。これにより、各エージェントが自身の専門知識を効率的に参照できる体制を構築します。

**分類ロジック:**
1. モデルの内容がどのエージェントの専門性に最も近いかを判断します。
2. 対応するエージェント名のサブフォルダにモデルを格納します。
3. 適切なサブフォルダが存在しない場合は、最も関連性の高い既存のフォルダを選択するか、新たにエージェント定義を追加した上でフォルダを作成します。

### Step 5: 関連事例リンク追加
モデル文書の末尾に実装事例・関連記事のリンクを追加

### Step 6: 元ファイルの移動
モデル化が完了した元のクリッピングファイル（記事）を `./Clippings/unmerged/` から `./Clippings/merged/` へ移動させ、処理済みであることを明示する。

これにより、具体的事例から抽象化された再利用可能なモデルとして体系的に知識を蓄積できます。