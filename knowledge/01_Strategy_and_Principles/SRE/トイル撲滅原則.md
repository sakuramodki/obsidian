---
level: 1
type: principle
domain: SRE
tags: [sre, toil, operations, automation, reliability]
---
# トイル撲滅原則

本原則は、サイトリライアビリティエンジニアリング（SRE）において、持続可能でスケーラブルな運用を実現するための核心的な理念、「トイルの撲滅」を定義する。

> 運用中のシステムに人手が必要なら、それはバグだ。
> ―Carla Geisser, Google SRE

## 1. トイルの定義

トイルとは、プロダクションサービスの運用に関連する作業のうち、以下の特徴を1つ以上持つものを指す。

- **手作業である (Manual)**: 人間が手でコマンドを実行したり、スクリプトを手動で起動したりする作業。
- **繰り返される (Repetitive)**: 一度きりではなく、何度も繰り返し発生する作業。新しい問題を解決する創造的な作業は含まない。
- **自動化できる (Automatable)**: 機械が人間と同様に、あるいはそれ以上にうまく実行できる作業。
- **戦術的である (Tactical)**: 計画的ではなく、割り込みや問題発生への対応として行われる作業（例: ページャー対応）。
- **長期的な価値を持たない (No Enduring Value)**: 作業完了後もサービスの価値が恒久的に向上しない作業。
- **サービスの成長に比例して増加する (O(n) with Service Growth)**: サービスの規模やトラフィック量に比例して作業量が増えていく作業。

> [!NOTE] トイルではないもの
> - **オーバーヘッド**: チームミーティング、人事評価、ドキュメント整理など、サービスの運用に直接結びつかない管理業務。
> - **価値あるつまらない仕事**: 一度きりのクリーンアップ作業など、恒久的な改善をもたらす作業。

## 2. なぜトイルを撲滅するのか

SRE組織は、各エンジニアの**作業時間の50%以上をエンジニアリング業務に費やす**ことを目標とする。トイルをこの上限以下に抑えなければ、以下のような問題が発生する。

- **キャリアの停滞**: エンジニアリングの時間がなくなり、スキルアップやキャリアアップが停滞する。
- **モラルの低下**: 過剰なトイルは燃え尽きや不満を引き起こす。
- **生産性の低下**: チームが目先の消火活動に追われ、サービスの機能開発や本質的な改善が進まなくなる。
- **スケールしない組織**: トイルが増え続けると、サービスの成長に合わせてSREの人数も線形に増やさなければならなくなり、SREモデルの価値が失われる。
- **悪しき習慣の定着**: SREがトイルを引き受けすぎると、開発チームが運用タスクをSREに押し付ける文化が生まれる可能性がある。

## 3. エンジニアリング業務とは

トイルの対極にあるのがエンジニアリング業務である。これは、サービスに恒久的な改善をもたらす、創造的で戦略的な作業を指す。

- **ソフトウェアエンジニアリング**: 自動化スクリプトの作成、ツールの開発、信頼性向上のための機能追加など。
- **システムエンジニアリング**: モニタリングの設計、ロードバランシングの設定、アーキテクチャの改善など、一度の作業で改善効果が持続するもの。

## 4. 戦略

- **トイルの計測**: 各SREがトイルに費やしている時間を定期的に計測し、チーム全体で可視化する。
- **上限の設定**: チームとしてトイルに費やす時間の上限（例: 50%）を定め、それを超えた場合は根本原因の解決を優先する。
- **自動化への投資**: 繰り返されるトイルを特定し、それを自動化するためのエンジニアリング時間を確保する。

イノベーションを増やし、トイルを減らすこと。これがSREの持続可能性と成功の鍵である。
