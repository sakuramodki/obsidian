#コンテキスト
# このカテゴリについて

> [!NOTE]
> このカテゴリがどのようなものか説明します。
> 可能な限りどのような課題を扱うかの対象を明確にします。

## **第4章 アーキテクチャ特性の定義 (Architectural Characteristics Defined)**

### **「イリティ」(-ilities) の紹介**

アーキテクチャ特性とは、ソフトウェアシステムが「どのように」動作するかを定義する品質属性のことである。これらはしばしば「非機能要件」や「品質特性」と呼ばれ、また、スケーラビリティ (Scalability)、信頼性 (Reliability)、保守性 (Maintainability)、パフォーマンス (Performance)、セキュリティ (Security) など、"-ility" で終わる言葉が多いため、「イリティ (-ilities)」とも総称される 。これらは、システムの機能（何をするか）と同等、あるいはそれ以上に重要であり、アーキテクチャの形状を決定づける主要な要因となる。

### **特性の区別**

多くのアーキテクチャ特性が存在するが、それぞれが意味する内容は異なる。例えば、「パフォーマンス」は応答時間やスループットに関わるが、「スケーラビリティ」は負荷が増加した際にパフォーマンスを維持（あるいはリソース追加によって向上）できる能力を指す。アーキテクトは、これらの特性を正確に理解し、区別する必要がある。

### **暗黙的特性と明示的特性**

要求されるアーキテクチャ特性の中には、要件定義で明示的に指定されるもの（例：「応答時間は1秒未満であること」）もあれば、暗黙のうちに期待されるもの（例：基本的なセキュリティ対策が施されていること）もある。アーキテクトは、暗黙的な期待も含めて、システムに必要な特性をすべて洗い出し、考慮する必要がある。

### **トレードオフ**

第一の法則が示すように、複数のアーキテクチャ特性を同時に最大限満たすことは通常不可能である。例えば、高度なセキュリティを実装するとパフォーマンスに影響が出たり、高いスケーラビリティを実現するためにシステムの複雑さが増したりすることがある。アーキテクトは、これらのトレードオフを認識し、プロジェクトの優先順位に基づいて、どの特性を重視し、どの特性をある程度許容するかを決定しなければならない。

アーキテクチャ特性は、単なるチェックリスト項目ではなく、システムの基本的な構造や技術選択を方向づける主要な推進力として位置づけられる。これらは、第2章で述べられたビジネスドライバーが技術的な制約や目標へと具体的に変換されたものであり、アーキテクチャ設計の中核をなす。性能、スケーラビリティ、セキュリティといった特性は、アーキテクチャスタイル（第2部）、コンポーネント設計（第8章）、技術スタック、インフラストラクチャに関する決定に直接影響を与え、アーキテクトの役割の中心であるトレードオフ（第一の法則）を強制する。したがって、これらの特性を定義し理解することは、意味のあるアーキテクチャ作業を行うための前提条件となる。本書が特性に関する章（第4章から第7章）に多くのページを割いていることは、非機能要件を二次的または後回しにしがちな開発アプローチとは対照的に、これらの特性が設計・開発ライフサイクルを通じて早期かつ継続的に考慮されなければならないという、その重要性を強調している。これは、アーキテクチャがシステムの基礎であるという考え方とも一致する。

## **第5章 アーキテクチャ特性の明確化 (Identifying Architectural Characteristics)**

### **特性の源泉**

システムに必要なアーキテクチャ特性を特定するには、様々な情報源を考慮する必要がある。

- **ステークホルダーからの要求:** ビジネスオーナー、ユーザー、運用担当者など、関係者からの直接的な要求や期待。
- **ビジネス要件:** 市場投入速度、コスト、規制遵守など、ビジネス上の目標や制約。
- **ドメイン知識:** 対象となる業務領域特有の性質や要求（例：金融システムにおける高い一貫性）。
- **運用コンテキスト:** システムが稼働する環境、予想される負荷、将来的な拡張計画など。

アーキテクトは、これらの情報源から関連する特性を抽出し、整理する必要がある。

### **要求の翻訳**

ステークホルダーからの要求は、しばしば「速いシステム」「信頼できるシステム」といった曖昧な言葉で表現される。アーキテクトの重要なスキルの一つは、これらの曖昧な要求を、具体的で測定可能なアーキテクチャ特性に翻訳することである。例えば、「速い」を「ピーク時においても95パーセンタイルのユーザーリクエストに対する応答時間が500ミリ秒未満であること」のように定義する。

### **優先順位付け**

すべての特性を最高レベルで満たすことは不可能であるため（第一の法則）、特定された特性に優先順位を付ける必要がある。どの特性がビジネス目標達成にとって最も重要か、どの特性が他の特性とのトレードオフにおいて優先されるべきかを、ステークホルダーと協力して決定する。

この特性特定プロセスは、単に要求リストを受け取る作業ではなく、アーキテクトがビジネスドメインと技術ドメインの間のギャップを埋める、解釈的かつコミュニケーション中心の活動である。ステークホルダーの要求の背後にある真のニーズを理解し、曖昧な言葉をテスト可能な基準に変換し、トレードオフに基づいて優先順位を交渉する必要がある。これは、第1章で強調された対人スキルやビジネスドメイン知識を必要とする。特性を明示的に特定し文書化する行為は、ステークホルダーと開発チームの間で共通理解を醸成し、曖昧さを減らし、期待値を早期に調整することを強制する。これにより、後工程での誤解や手戻りを防ぐことができる。例えば、「スケーラビリティ目標：10,000同時ユーザーを平均応答時間500ms未満で処理」といった具体的な目標を文書化することで、設計の指針となり、後で検証（第6章）も可能になる。

## **第6章 アーキテクチャ特性の計測と統制 (Measuring and Governing Architectural Characteristics)**

### **計測の必要性**

アーキテクチャ特性は、それが測定可能でなければ、意味のある目標設定や達成度の検証が困難になる。主観的な評価ではなく、客観的なデータに基づいて特性を評価することが重要である。

### **計測の種類**

本書では、アーキテクチャ特性を計測するためのアプローチとして、以下の3つの種類を挙げている。

- **運用メトリクス (Operational Measures):** 実行中のシステムから収集される指標。例：応答時間、スループット、エラーレート、平均復旧時間 (MTTR)。
- **構造メトリクス (Structural Measures):** コードや設計の静的な構造を分析して得られる指標。例：凝集度、結合度、コナーセンス、循環的複雑度、主系列からの距離。
- **プロセスメトリクス (Process Measures):** 開発や運用プロセスに関連する指標。例：デプロイ頻度、リードタイム、変更失敗率。

### **フィットネス関数 (Fitness Functions)**

本書における重要な概念の一つが「アーキテクチャフィットネス関数」である **6**。これは、特定のアーキテクチャ特性が維持されているかを継続的に検証するための、客観的かつ自動化されたメカニズム（テスト、メトリクス、モニタリングなど）を指す。例えば、パフォーマンス要件を検証する自動パフォーマンステスト、モジュール性をチェックする静的解析ツール、セキュリティ脆弱性を検出するスキャンなどがフィットネス関数となり得る。

### **統制 (Governance)**

フィットネス関数は、効果的なアーキテクチャ統制（ガバナンス）を実現するための強力なツールとなる。アーキテクチャに関する決定事項（例：特定の結合度メトリクスの上限値、レイヤー間の依存方向の制限）をフィットネス関数として自動化することで、システムが進化する過程で意図せずアーキテクチャが劣化したり、重要な特性が損なわれたりすることを防ぐことができる。

フィットネス関数は、アーキテクチャガバナンスにおけるパラダイムシフトを表している。従来の定期的・手動レビューから、開発・デプロイパイプラインに統合された継続的・自動検証へと移行するものである。これは、アーキテクチャを現代的なDevOpsや継続的デリバリーの実践と強く結びつける。自動化されたチェックは、アーキテクチャの逸脱や違反を早期かつ確実に検出し、アーキテクトがボトルネックになることなく、品質を維持することを可能にする。アーキテクチャを定量的に測定するという考え方は、アーキテクチャを工学分野として扱うという本書の目標を強化し、主観的な意見ではなく証拠に基づいた意思決定を可能にする。フィットネス関数から得られる具体的なデータは、アーキテクチャの健全性に関する客観的な評価と、データ駆動型のリファクタリングや再設計の判断を支援する。

## **第7章 アーキテクチャ特性のスコープ (Scope of Architectural Characteristics)**

### **システムスコープ vs. コンポーネントスコープ**

アーキテクチャ特性は、システム全体に適用されるものと、特定のコンポーネントや機能領域に限定して適用されるものがある。例えば、「システムの可用性は99.99%であること」はシステム全体の特性だが、「特定の検索APIの応答時間は100ミリ秒未満であること」はコンポーネントスコープの特性である。

### **境界の定義**

どの特性がどの範囲（スコープ）に適用されるのか、その境界を明確に定義することが重要である。これにより、要求事項の意図が正確に伝わり、設計やテストが適切に行われる。

### **設計への影響**

特性のスコープは、その範囲内の設計決定に直接影響を与える。システム全体に求められる特性は、アーキテクチャスタイル全体の選択やインフラストラクチャに影響する可能性がある。一方、コンポーネントスコープの特性は、そのコンポーネント内部の設計、アルゴリズム、あるいは使用するライブラリの選択などに影響する。コンポーネント識別プロセスにおいても、特定の特性要件を満たすためにコンポーネントが分割されることがある **6**。

特性のスコープを理解することは、過剰設計（厳格な要件を不必要に広範囲に適用すること）や過小設計（重要な要件を特定の箇所で満たせないこと）を避ける上で極めて重要である。これにより、アーキテクチャ上の労力を的を絞って投入することが可能になる。例えば、システム全体としては標準的な可用性で十分でも、決済処理コンポーネントだけは極めて高いフォールトトレランスが要求される場合、スコープを認識することで、複雑でコストのかかる高可用性パターンを必要な箇所に限定して適用でき、リソース配分と複雑さを最適化できる。スコープ定義は、第8章で述べるコンポーネントの識別や分割と密接に関連し、要求される特性が異なる部分を分離するためにコンポーネント境界が引かれることもある **6**。

# 関連情報
## モデル・理論
> [!NOTE]
> このカテゴリの理解を助けるためのモデルや理論、抑えるべき原則と問題に対する解決法（メソッド）を記述します。


# サブコンテキスト

> [!NOTE]
> より詳細な事象に対するサブカテゴリを記述します。
